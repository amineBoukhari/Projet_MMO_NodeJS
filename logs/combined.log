2025-11-24 09:31:06 [info]: üöÄ Server is starting...
2025-11-24 09:31:06 [debug]: Executing (default): SELECT 1+1 AS result
2025-11-24 09:31:06 [info]: ‚úÖ Database connection established successfully.
2025-11-24 09:31:06 [debug]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'users' AND TABLE_SCHEMA = '4IW-nodejs'
2025-11-24 09:31:06 [debug]: Executing (default): SHOW FULL COLUMNS FROM `users`;
2025-11-24 09:31:06 [debug]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='4IW-nodejs' AND REFERENCED_TABLE_NAME IS NOT NULL;
2025-11-24 09:31:06 [debug]: Executing (default): ALTER TABLE `users` ADD `username` VARCHAR(255) NOT NULL UNIQUE;
2025-11-24 09:31:07 [debug]: Executing (default): ALTER TABLE `users` ADD `passwordHash` VARCHAR(255) NOT NULL;
2025-11-24 09:31:07 [debug]: Executing (default): ALTER TABLE `users` ADD `role` ENUM('player', 'admin') NOT NULL DEFAULT 'player';
2025-11-24 09:31:07 [debug]: Executing (default): ALTER TABLE `users` ADD `avatar` VARCHAR(255);
2025-11-24 09:31:07 [debug]: Executing (default): ALTER TABLE `users` ADD `bio` TEXT;
2025-11-24 09:31:08 [debug]: Executing (default): ALTER TABLE `users` ADD `dateInscription` DATETIME NOT NULL;
2025-11-24 09:31:08 [error]: ‚ùå Unable to connect to the database: Incorrect datetime value: '0000-00-00 00:00:00' for column 'dateInscription' at row 1
2025-11-24 10:01:36 [info]: üöÄ Server is starting...
2025-11-24 10:01:36 [debug]: Executing (default): SELECT 1+1 AS result
2025-11-24 10:01:36 [info]: ‚úÖ Database connection established successfully.
2025-11-24 10:01:36 [debug]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'users' AND TABLE_SCHEMA = 'MMORPG'
2025-11-24 10:01:36 [debug]: Executing (default): SHOW FULL COLUMNS FROM `users`;
2025-11-24 10:01:36 [debug]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='MMORPG' AND REFERENCED_TABLE_NAME IS NOT NULL;
2025-11-24 10:01:36 [debug]: Executing (default): ALTER TABLE `users` CHANGE `username` `username` VARCHAR(255) NOT NULL UNIQUE;
2025-11-24 10:01:36 [debug]: Executing (default): ALTER TABLE `users` CHANGE `email` `email` VARCHAR(255) NOT NULL UNIQUE;
2025-11-24 10:01:36 [debug]: Executing (default): ALTER TABLE `users` CHANGE `passwordHash` `passwordHash` VARCHAR(255) NOT NULL;
2025-11-24 10:01:36 [debug]: Executing (default): ALTER TABLE `users` CHANGE `role` `role` ENUM('player', 'admin') NOT NULL DEFAULT 'player';
2025-11-24 10:01:36 [debug]: Executing (default): ALTER TABLE `users` CHANGE `avatar` `avatar` VARCHAR(255);
2025-11-24 10:01:36 [debug]: Executing (default): ALTER TABLE `users` CHANGE `bio` `bio` TEXT;
2025-11-24 10:01:36 [debug]: Executing (default): ALTER TABLE `users` CHANGE `dateInscription` `dateInscription` DATETIME NOT NULL;
2025-11-24 10:01:36 [debug]: Executing (default): ALTER TABLE `users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
2025-11-24 10:01:36 [debug]: Executing (default): SHOW INDEX FROM `users`
2025-11-24 10:01:36 [info]: ‚úÖ Database synchronized successfully.
2025-11-24 10:01:36 [debug]: Executing (default): SELECT count(*) AS `count` FROM `users` AS `User`;
2025-11-24 10:01:36 [info]: Aucun utilisateur par d√©faut √† cr√©er
2025-11-24 10:01:36 [info]: üöÄ Server is running on port 3002
2025-11-24 10:01:48 [info]: üöÄ Server is starting...
2025-11-24 10:01:48 [debug]: Executing (default): SELECT 1+1 AS result
2025-11-24 10:01:48 [info]: ‚úÖ Database connection established successfully.
2025-11-24 10:01:48 [debug]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'users' AND TABLE_SCHEMA = 'MMORPG'
2025-11-24 10:01:48 [debug]: Executing (default): SHOW FULL COLUMNS FROM `users`;
2025-11-24 10:01:48 [debug]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='MMORPG' AND REFERENCED_TABLE_NAME IS NOT NULL;
2025-11-24 10:01:48 [debug]: Executing (default): ALTER TABLE `users` CHANGE `username` `username` VARCHAR(255) NOT NULL UNIQUE;
2025-11-24 10:01:48 [debug]: Executing (default): ALTER TABLE `users` CHANGE `email` `email` VARCHAR(255) NOT NULL UNIQUE;
2025-11-24 10:01:48 [debug]: Executing (default): ALTER TABLE `users` CHANGE `passwordHash` `passwordHash` VARCHAR(255) NOT NULL;
2025-11-24 10:01:48 [debug]: Executing (default): ALTER TABLE `users` CHANGE `role` `role` ENUM('player', 'admin') NOT NULL DEFAULT 'player';
2025-11-24 10:01:48 [debug]: Executing (default): ALTER TABLE `users` CHANGE `avatar` `avatar` VARCHAR(255);
2025-11-24 10:01:48 [debug]: Executing (default): ALTER TABLE `users` CHANGE `bio` `bio` TEXT;
2025-11-24 10:01:48 [debug]: Executing (default): ALTER TABLE `users` CHANGE `dateInscription` `dateInscription` DATETIME NOT NULL;
2025-11-24 10:01:48 [debug]: Executing (default): ALTER TABLE `users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
2025-11-24 10:01:48 [debug]: Executing (default): SHOW INDEX FROM `users`
2025-11-24 10:01:48 [info]: ‚úÖ Database synchronized successfully.
2025-11-24 10:01:48 [debug]: Executing (default): SELECT count(*) AS `count` FROM `users` AS `User`;
2025-11-24 10:01:48 [info]: Aucun utilisateur par d√©faut √† cr√©er
2025-11-24 10:01:48 [info]: üöÄ Server is running on port 3002
2025-11-24 10:03:04 [info]: üöÄ Server is starting...
2025-11-24 10:03:04 [debug]: Executing (default): SELECT 1+1 AS result
2025-11-24 10:03:04 [info]: ‚úÖ Database connection established successfully.
2025-11-24 10:03:04 [debug]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'character_types' AND TABLE_SCHEMA = 'MMORPG'
2025-11-24 10:03:04 [debug]: Executing (default): CREATE TABLE IF NOT EXISTS `character_types` (`id` INTEGER NOT NULL auto_increment , `name` VARCHAR(255) UNIQUE, `description` VARCHAR(255), `bonusHP` INTEGER, `bonusATT` INTEGER, `bonusDEF` INTEGER, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL, PRIMARY KEY (`id`)) ENGINE=InnoDB;
2025-11-24 10:03:04 [debug]: Executing (default): SHOW INDEX FROM `character_types`
2025-11-24 10:03:04 [debug]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'users' AND TABLE_SCHEMA = 'MMORPG'
2025-11-24 10:03:04 [debug]: Executing (default): SHOW FULL COLUMNS FROM `users`;
2025-11-24 10:03:04 [debug]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='MMORPG' AND REFERENCED_TABLE_NAME IS NOT NULL;
2025-11-24 10:03:04 [debug]: Executing (default): ALTER TABLE `users` CHANGE `username` `username` VARCHAR(255) NOT NULL UNIQUE;
2025-11-24 10:03:04 [debug]: Executing (default): ALTER TABLE `users` CHANGE `email` `email` VARCHAR(255) NOT NULL UNIQUE;
2025-11-24 10:03:04 [debug]: Executing (default): ALTER TABLE `users` CHANGE `passwordHash` `passwordHash` VARCHAR(255) NOT NULL;
2025-11-24 10:03:04 [debug]: Executing (default): ALTER TABLE `users` CHANGE `role` `role` ENUM('player', 'admin') NOT NULL DEFAULT 'player';
2025-11-24 10:03:04 [debug]: Executing (default): ALTER TABLE `users` CHANGE `avatar` `avatar` VARCHAR(255);
2025-11-24 10:03:04 [debug]: Executing (default): ALTER TABLE `users` CHANGE `bio` `bio` TEXT;
2025-11-24 10:03:04 [debug]: Executing (default): ALTER TABLE `users` CHANGE `dateInscription` `dateInscription` DATETIME NOT NULL;
2025-11-24 10:03:04 [debug]: Executing (default): ALTER TABLE `users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
2025-11-24 10:03:04 [debug]: Executing (default): SHOW INDEX FROM `users`
2025-11-24 10:03:04 [info]: ‚úÖ Database synchronized successfully.
2025-11-24 10:03:04 [debug]: Executing (default): SELECT count(*) AS `count` FROM `users` AS `User`;
2025-11-24 10:03:04 [info]: Aucun utilisateur par d√©faut √† cr√©er
2025-11-24 10:03:04 [info]: üöÄ Server is running on port 3002
2025-11-24 10:31:52 [info]: üöÄ Server is starting...
2025-11-24 10:31:52 [debug]: Executing (default): SELECT 1+1 AS result
2025-11-24 10:31:52 [info]: ‚úÖ Database connection established successfully.
2025-11-24 10:31:52 [debug]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'users' AND TABLE_SCHEMA = 'MMORPG'
2025-11-24 10:31:52 [debug]: Executing (default): SHOW FULL COLUMNS FROM `users`;
2025-11-24 10:31:52 [debug]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='MMORPG' AND REFERENCED_TABLE_NAME IS NOT NULL;
2025-11-24 10:31:52 [debug]: Executing (default): ALTER TABLE `users` CHANGE `username` `username` VARCHAR(255) NOT NULL UNIQUE;
2025-11-24 10:31:52 [debug]: Executing (default): ALTER TABLE `users` CHANGE `email` `email` VARCHAR(255) NOT NULL UNIQUE;
2025-11-24 10:31:52 [debug]: Executing (default): ALTER TABLE `users` CHANGE `passwordHash` `passwordHash` VARCHAR(255) NOT NULL;
2025-11-24 10:31:52 [debug]: Executing (default): ALTER TABLE `users` CHANGE `role` `role` ENUM('player', 'admin') NOT NULL DEFAULT 'player';
2025-11-24 10:31:52 [debug]: Executing (default): ALTER TABLE `users` CHANGE `avatar` `avatar` VARCHAR(255);
2025-11-24 10:31:52 [debug]: Executing (default): ALTER TABLE `users` CHANGE `bio` `bio` TEXT;
2025-11-24 10:31:52 [debug]: Executing (default): ALTER TABLE `users` CHANGE `dateInscription` `dateInscription` DATETIME NOT NULL;
2025-11-24 10:31:52 [debug]: Executing (default): ALTER TABLE `users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
2025-11-24 10:31:52 [debug]: Executing (default): SHOW INDEX FROM `users`
2025-11-24 10:31:52 [debug]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'character_types' AND TABLE_SCHEMA = 'MMORPG'
2025-11-24 10:31:52 [debug]: Executing (default): CREATE TABLE IF NOT EXISTS `character_types` (`id` INTEGER NOT NULL auto_increment , `name` VARCHAR(255) UNIQUE, `description` VARCHAR(255), `bonusHP` INTEGER, `bonusATT` INTEGER, `bonusDEF` INTEGER, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL, PRIMARY KEY (`id`)) ENGINE=InnoDB;
2025-11-24 10:31:52 [debug]: Executing (default): SHOW INDEX FROM `character_types`
2025-11-24 10:31:52 [info]: ‚úÖ Database synchronized successfully.
2025-11-24 10:31:52 [debug]: Executing (default): SELECT count(*) AS `count` FROM `users` AS `User`;
2025-11-24 10:31:52 [info]: ‚ÑπÔ∏è Users already exist, skipping initialization
2025-11-24 10:31:52 [info]: üöÄ Server is running on port 3002
2025-11-24 10:32:24 [debug]: Executing (default): INSERT INTO `users` (`id`,`username`,`email`,`passwordHash`,`role`,`dateInscription`,`updatedAt`) VALUES (DEFAULT,?,?,?,?,?,?);
2025-11-24 10:32:34 [debug]: Executing (default): INSERT INTO `users` (`id`,`username`,`email`,`passwordHash`,`role`,`dateInscription`,`updatedAt`) VALUES (DEFAULT,?,?,?,?,?,?);
2025-11-24 10:32:51 [debug]: Executing (default): SELECT `id`, `username`, `email`, `passwordHash`, `role`, `avatar`, `bio`, `dateInscription`, `updatedAt` FROM `users` AS `User` WHERE `User`.`email` = 'diara@test.com';
2025-11-24 10:33:17 [debug]: Executing (default): SELECT `id`, `username`, `email`, `passwordHash`, `role`, `avatar`, `bio`, `dateInscription`, `updatedAt` FROM `users` AS `User` WHERE `User`.`id` = 5;
2025-11-24 10:40:54 [debug]: Executing (default): SELECT `id`, `username`, `email`, `passwordHash`, `role`, `avatar`, `bio`, `dateInscription`, `updatedAt` FROM `users` AS `User` WHERE `User`.`email` = 'diara@test.com';
2025-11-24 10:43:00 [info]: üöÄ Server is starting...
2025-11-24 10:43:00 [debug]: Executing (default): SELECT 1+1 AS result
2025-11-24 10:43:00 [info]: ‚úÖ Database connection established successfully.
2025-11-24 10:43:00 [debug]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'users' AND TABLE_SCHEMA = 'MMORPG'
2025-11-24 10:43:00 [debug]: Executing (default): SHOW FULL COLUMNS FROM `users`;
2025-11-24 10:43:00 [debug]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='MMORPG' AND REFERENCED_TABLE_NAME IS NOT NULL;
2025-11-24 10:43:00 [debug]: Executing (default): ALTER TABLE `users` CHANGE `username` `username` VARCHAR(255) NOT NULL UNIQUE;
2025-11-24 10:43:00 [debug]: Executing (default): ALTER TABLE `users` CHANGE `email` `email` VARCHAR(255) NOT NULL UNIQUE;
2025-11-24 10:43:00 [debug]: Executing (default): ALTER TABLE `users` CHANGE `passwordHash` `passwordHash` VARCHAR(255) NOT NULL;
2025-11-24 10:43:00 [debug]: Executing (default): ALTER TABLE `users` CHANGE `role` `role` ENUM('player', 'admin') NOT NULL DEFAULT 'player';
2025-11-24 10:43:00 [debug]: Executing (default): ALTER TABLE `users` CHANGE `avatar` `avatar` VARCHAR(255);
2025-11-24 10:43:00 [debug]: Executing (default): ALTER TABLE `users` CHANGE `bio` `bio` TEXT;
2025-11-24 10:43:00 [debug]: Executing (default): ALTER TABLE `users` CHANGE `dateInscription` `dateInscription` DATETIME NOT NULL;
2025-11-24 10:43:00 [debug]: Executing (default): ALTER TABLE `users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
2025-11-24 10:43:00 [debug]: Executing (default): SHOW INDEX FROM `users`
2025-11-24 10:43:00 [debug]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'refresh_tokens' AND TABLE_SCHEMA = 'MMORPG'
2025-11-24 10:43:00 [debug]: Executing (default): CREATE TABLE IF NOT EXISTS `refresh_tokens` (`id` INTEGER auto_increment , `token` VARCHAR(500) NOT NULL UNIQUE, `userId` INTEGER NOT NULL, `expiresAt` DATETIME NOT NULL, `isRevoked` TINYINT(1) DEFAULT false, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL, PRIMARY KEY (`id`), FOREIGN KEY (`userId`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE) ENGINE=InnoDB;
2025-11-24 10:43:00 [error]: ‚ùå Unable to connect to the database: REFERENCES command denied to user 'pkrob'@'localhost' for table 'users'
2025-11-24 10:44:23 [info]: üöÄ Server is starting...
2025-11-24 10:44:23 [debug]: Executing (default): SELECT 1+1 AS result
2025-11-24 10:44:23 [info]: ‚úÖ Database connection established successfully.
2025-11-24 10:44:23 [debug]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'users' AND TABLE_SCHEMA = 'MMORPG'
2025-11-24 10:44:23 [debug]: Executing (default): SHOW FULL COLUMNS FROM `users`;
2025-11-24 10:44:23 [debug]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='MMORPG' AND REFERENCED_TABLE_NAME IS NOT NULL;
2025-11-24 10:44:23 [debug]: Executing (default): ALTER TABLE `users` CHANGE `username` `username` VARCHAR(255) NOT NULL UNIQUE;
2025-11-24 10:44:23 [debug]: Executing (default): ALTER TABLE `users` CHANGE `email` `email` VARCHAR(255) NOT NULL UNIQUE;
2025-11-24 10:44:23 [debug]: Executing (default): ALTER TABLE `users` CHANGE `passwordHash` `passwordHash` VARCHAR(255) NOT NULL;
2025-11-24 10:44:23 [debug]: Executing (default): ALTER TABLE `users` CHANGE `role` `role` ENUM('player', 'admin') NOT NULL DEFAULT 'player';
2025-11-24 10:44:23 [debug]: Executing (default): ALTER TABLE `users` CHANGE `avatar` `avatar` VARCHAR(255);
2025-11-24 10:44:23 [debug]: Executing (default): ALTER TABLE `users` CHANGE `bio` `bio` TEXT;
2025-11-24 10:44:23 [debug]: Executing (default): ALTER TABLE `users` CHANGE `dateInscription` `dateInscription` DATETIME NOT NULL;
2025-11-24 10:44:23 [debug]: Executing (default): ALTER TABLE `users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
2025-11-24 10:44:23 [debug]: Executing (default): SHOW INDEX FROM `users`
2025-11-24 10:44:23 [debug]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'refresh_tokens' AND TABLE_SCHEMA = 'MMORPG'
2025-11-24 10:44:23 [debug]: Executing (default): CREATE TABLE IF NOT EXISTS `refresh_tokens` (`id` INTEGER auto_increment , `token` VARCHAR(500) NOT NULL UNIQUE, `userId` INTEGER NOT NULL, `expiresAt` DATETIME NOT NULL, `isRevoked` TINYINT(1) DEFAULT false, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL, PRIMARY KEY (`id`), FOREIGN KEY (`userId`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE) ENGINE=InnoDB;
2025-11-24 10:44:23 [debug]: Executing (default): SHOW INDEX FROM `refresh_tokens`
2025-11-24 10:44:23 [debug]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'character_types' AND TABLE_SCHEMA = 'MMORPG'
2025-11-24 10:44:23 [debug]: Executing (default): SHOW FULL COLUMNS FROM `character_types`;
2025-11-24 10:44:23 [debug]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'character_types' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='MMORPG' AND REFERENCED_TABLE_NAME IS NOT NULL;
2025-11-24 10:44:23 [debug]: Executing (default): ALTER TABLE `character_types` CHANGE `name` `name` VARCHAR(255) UNIQUE;
2025-11-24 10:44:23 [debug]: Executing (default): ALTER TABLE `character_types` CHANGE `description` `description` VARCHAR(255);
2025-11-24 10:44:23 [debug]: Executing (default): ALTER TABLE `character_types` CHANGE `bonusHP` `bonusHP` INTEGER;
2025-11-24 10:44:23 [debug]: Executing (default): ALTER TABLE `character_types` CHANGE `bonusATT` `bonusATT` INTEGER;
2025-11-24 10:44:23 [debug]: Executing (default): ALTER TABLE `character_types` CHANGE `bonusDEF` `bonusDEF` INTEGER;
2025-11-24 10:44:23 [debug]: Executing (default): ALTER TABLE `character_types` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
2025-11-24 10:44:23 [debug]: Executing (default): ALTER TABLE `character_types` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
2025-11-24 10:44:23 [debug]: Executing (default): SHOW INDEX FROM `character_types`
2025-11-24 10:44:23 [info]: ‚úÖ Database synchronized successfully.
2025-11-24 10:44:23 [debug]: Executing (default): SELECT count(*) AS `count` FROM `users` AS `User`;
2025-11-24 10:44:23 [info]: ‚ÑπÔ∏è Users already exist, skipping initialization
2025-11-24 10:44:23 [info]: üöÄ Server is running on port 3002
2025-11-24 10:44:48 [debug]: Executing (default): SELECT `id`, `username`, `email`, `passwordHash`, `role`, `avatar`, `bio`, `dateInscription`, `updatedAt` FROM `users` AS `User` WHERE `User`.`email` = 'diara@test.com';
2025-11-24 10:44:48 [debug]: Executing (default): INSERT INTO `refresh_tokens` (`id`,`token`,`userId`,`expiresAt`,`isRevoked`,`createdAt`,`updatedAt`) VALUES (DEFAULT,?,?,?,?,?,?);
2025-11-24 10:50:31 [debug]: Executing (default): INSERT INTO `users` (`id`,`username`,`email`,`passwordHash`,`role`,`dateInscription`,`updatedAt`) VALUES (DEFAULT,?,?,?,?,?,?);
2025-11-24 10:50:38 [debug]: Executing (default): SELECT `id`, `username`, `email`, `passwordHash`, `role`, `avatar`, `bio`, `dateInscription`, `updatedAt` FROM `users` AS `User` WHERE `User`.`email` = 'diara@test.com';
2025-11-24 10:50:38 [debug]: Executing (default): INSERT INTO `refresh_tokens` (`id`,`token`,`userId`,`expiresAt`,`isRevoked`,`createdAt`,`updatedAt`) VALUES (DEFAULT,?,?,?,?,?,?);
2025-11-24 10:51:47 [debug]: Executing (default): SELECT `id`, `username`, `email`, `passwordHash`, `role`, `avatar`, `bio`, `dateInscription`, `updatedAt` FROM `users` AS `User` WHERE `User`.`id` = 5;
2025-11-24 10:52:28 [debug]: Executing (default): SELECT `RefreshToken`.`id`, `RefreshToken`.`token`, `RefreshToken`.`userId`, `RefreshToken`.`expiresAt`, `RefreshToken`.`isRevoked`, `RefreshToken`.`createdAt`, `RefreshToken`.`updatedAt`, `user`.`id` AS `user.id`, `user`.`username` AS `user.username`, `user`.`email` AS `user.email`, `user`.`passwordHash` AS `user.passwordHash`, `user`.`role` AS `user.role`, `user`.`avatar` AS `user.avatar`, `user`.`bio` AS `user.bio`, `user`.`dateInscription` AS `user.dateInscription`, `user`.`updatedAt` AS `user.updatedAt` FROM `refresh_tokens` AS `RefreshToken` LEFT OUTER JOIN `users` AS `user` ON `RefreshToken`.`userId` = `user`.`id` WHERE `RefreshToken`.`token` = '40187687211ddb32b5340dac259c2805b2aec53dba06daf36fc2022a656f87c3a0809c8c40312f782769db546618f1bd92e214895799ebfbe193a48a2d94ddfb';
2025-11-24 10:52:35 [debug]: Executing (default): SELECT `id`, `username`, `email`, `passwordHash`, `role`, `avatar`, `bio`, `dateInscription`, `updatedAt` FROM `users` AS `User` WHERE `User`.`id` = 5;
2025-11-24 10:52:36 [debug]: Executing (default): SELECT `id`, `username`, `email`, `passwordHash`, `role`, `avatar`, `bio`, `dateInscription`, `updatedAt` FROM `users` AS `User` WHERE `User`.`id` = 5;
2025-11-24 10:52:41 [debug]: Executing (default): SELECT `id`, `username`, `email`, `passwordHash`, `role`, `avatar`, `bio`, `dateInscription`, `updatedAt` FROM `users` AS `User` WHERE `User`.`id` = 5;
2025-11-24 10:53:59 [debug]: Executing (default): SELECT `id`, `username`, `email`, `role`, `avatar`, `bio`, `dateInscription`, `updatedAt` FROM `users` AS `User`;
2025-11-24 10:54:04 [debug]: Executing (default): SELECT `id`, `username`, `email`, `role`, `avatar`, `bio`, `dateInscription`, `updatedAt` FROM `users` AS `User`;
2025-11-24 10:54:13 [info]: üöÄ Server is starting...
2025-11-24 10:54:13 [debug]: Executing (default): SELECT 1+1 AS result
2025-11-24 10:54:13 [info]: ‚úÖ Database connection established successfully.
2025-11-24 10:54:13 [debug]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'users' AND TABLE_SCHEMA = 'MMORPG'
2025-11-24 10:54:13 [debug]: Executing (default): SHOW FULL COLUMNS FROM `users`;
2025-11-24 10:54:13 [debug]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='MMORPG' AND REFERENCED_TABLE_NAME IS NOT NULL;
2025-11-24 10:54:13 [debug]: Executing (default): ALTER TABLE `users` CHANGE `username` `username` VARCHAR(255) NOT NULL UNIQUE;
2025-11-24 10:54:13 [debug]: Executing (default): ALTER TABLE `users` CHANGE `email` `email` VARCHAR(255) NOT NULL UNIQUE;
2025-11-24 10:54:14 [debug]: Executing (default): ALTER TABLE `users` CHANGE `passwordHash` `passwordHash` VARCHAR(255) NOT NULL;
2025-11-24 10:54:14 [debug]: Executing (default): ALTER TABLE `users` CHANGE `role` `role` ENUM('player', 'admin') NOT NULL DEFAULT 'player';
2025-11-24 10:54:14 [debug]: Executing (default): ALTER TABLE `users` CHANGE `avatar` `avatar` VARCHAR(255);
2025-11-24 10:54:14 [debug]: Executing (default): ALTER TABLE `users` CHANGE `bio` `bio` TEXT;
2025-11-24 10:54:14 [debug]: Executing (default): ALTER TABLE `users` CHANGE `dateInscription` `dateInscription` DATETIME NOT NULL;
2025-11-24 10:54:14 [debug]: Executing (default): ALTER TABLE `users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
2025-11-24 10:54:14 [debug]: Executing (default): SHOW INDEX FROM `users`
2025-11-24 10:54:14 [debug]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'refresh_tokens' AND TABLE_SCHEMA = 'MMORPG'
2025-11-24 10:54:14 [debug]: Executing (default): SHOW FULL COLUMNS FROM `refresh_tokens`;
2025-11-24 10:54:14 [debug]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'refresh_tokens' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='MMORPG' AND REFERENCED_TABLE_NAME IS NOT NULL;
2025-11-24 10:54:14 [debug]: Executing (default): ALTER TABLE `refresh_tokens` CHANGE `token` `token` VARCHAR(500) NOT NULL UNIQUE;
2025-11-24 10:54:14 [debug]: Executing (default): ALTER TABLE `refresh_tokens` ADD FOREIGN KEY (`userId`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;
2025-11-24 10:54:14 [debug]: Executing (default): ALTER TABLE `refresh_tokens` CHANGE `expiresAt` `expiresAt` DATETIME NOT NULL;
2025-11-24 10:54:14 [debug]: Executing (default): ALTER TABLE `refresh_tokens` CHANGE `isRevoked` `isRevoked` TINYINT(1) DEFAULT false;
2025-11-24 10:54:14 [debug]: Executing (default): ALTER TABLE `refresh_tokens` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
2025-11-24 10:54:14 [debug]: Executing (default): ALTER TABLE `refresh_tokens` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
2025-11-24 10:54:14 [debug]: Executing (default): SHOW INDEX FROM `refresh_tokens`
2025-11-24 10:54:14 [debug]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'character_types' AND TABLE_SCHEMA = 'MMORPG'
2025-11-24 10:54:14 [debug]: Executing (default): SHOW FULL COLUMNS FROM `character_types`;
2025-11-24 10:54:14 [debug]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'character_types' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='MMORPG' AND REFERENCED_TABLE_NAME IS NOT NULL;
2025-11-24 10:54:14 [debug]: Executing (default): ALTER TABLE `character_types` CHANGE `name` `name` VARCHAR(255) UNIQUE;
2025-11-24 10:54:14 [debug]: Executing (default): ALTER TABLE `character_types` CHANGE `description` `description` VARCHAR(255);
2025-11-24 10:54:14 [debug]: Executing (default): ALTER TABLE `character_types` CHANGE `bonusHP` `bonusHP` INTEGER;
2025-11-24 10:54:14 [debug]: Executing (default): ALTER TABLE `character_types` CHANGE `bonusATT` `bonusATT` INTEGER;
2025-11-24 10:54:14 [debug]: Executing (default): ALTER TABLE `character_types` CHANGE `bonusDEF` `bonusDEF` INTEGER;
2025-11-24 10:54:14 [debug]: Executing (default): ALTER TABLE `character_types` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
2025-11-24 10:54:14 [debug]: Executing (default): ALTER TABLE `character_types` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
2025-11-24 10:54:14 [debug]: Executing (default): SHOW INDEX FROM `character_types`
2025-11-24 10:54:14 [info]: ‚úÖ Database synchronized successfully.
2025-11-24 10:54:14 [debug]: Executing (default): SELECT count(*) AS `count` FROM `users` AS `User`;
2025-11-24 10:54:14 [info]: ‚ÑπÔ∏è Users already exist, skipping initialization
2025-11-24 10:54:14 [info]: üöÄ Server is running on port 3002
2025-11-24 10:54:16 [debug]: Executing (default): SELECT `id`, `username`, `email`, `passwordHash`, `role`, `avatar`, `bio`, `dateInscription`, `updatedAt` FROM `users` AS `User` WHERE `User`.`id` = 5;
2025-11-24 10:54:30 [debug]: Executing (default): SELECT `id`, `username`, `email`, `passwordHash`, `role`, `avatar`, `bio`, `dateInscription`, `updatedAt` FROM `users` AS `User` WHERE `User`.`email` = 'admin@test.com';
2025-11-24 10:54:42 [debug]: Executing (default): SELECT `id`, `username`, `email`, `passwordHash`, `role`, `avatar`, `bio`, `dateInscription`, `updatedAt` FROM `users` AS `User` WHERE `User`.`email` = 'admin@example.com';
2025-11-24 10:54:48 [debug]: Executing (default): SELECT `id`, `username`, `email`, `passwordHash`, `role`, `avatar`, `bio`, `dateInscription`, `updatedAt` FROM `users` AS `User` WHERE `User`.`email` = 'admin@example.com';
2025-11-24 10:54:48 [debug]: Executing (default): INSERT INTO `refresh_tokens` (`id`,`token`,`userId`,`expiresAt`,`isRevoked`,`createdAt`,`updatedAt`) VALUES (DEFAULT,?,?,?,?,?,?);
2025-11-24 10:54:59 [debug]: Executing (default): SELECT `id`, `username`, `email`, `passwordHash`, `role`, `avatar`, `bio`, `dateInscription`, `updatedAt` FROM `users` AS `User` WHERE `User`.`id` = 1;
2025-11-24 10:54:59 [debug]: Executing (default): SELECT `id`, `username`, `email`, `role`, `avatar`, `bio`, `dateInscription`, `updatedAt` FROM `users` AS `User`;
